import{s as T,e as O,a as d,c as q,g as y,b as k,i as f,d as u,o as J,t as P,f as N}from"../chunks/scheduler.hpYd8Nb6.js";import{S as j,i as B,c as b,a as g,m as h,t as w,b as v,d as S}from"../chunks/index.D6TauPwI.js";import{B as C,D}from"../chunks/Draw.2QjGL7Aq.js";function H(p){let e;return{c(){e=P("Train")},l(o){e=N(o,"Train")},m(o,a){f(o,e,a)},d(o){o&&u(e)}}}function A(p){let e;return{c(){e=P("Next pokemon")},l(o){e=N(o,"Next pokemon")},m(o,a){f(o,e,a)},d(o){o&&u(e)}}}function E(p){let e,o="Help train the model here:",a,s,i,r,$,m,l;return s=new C({props:{href:"/training",$$slots:{default:[H]},$$scope:{ctx:p}}}),r=new C({props:{$$slots:{default:[A]},$$scope:{ctx:p}}}),r.$on("click",p[2]),m=new D({props:{pokemonJSON:p[0]}}),m.$on("canvasSubmit",p[3]),{c(){e=O("h2"),e.textContent=o,a=d(),b(s.$$.fragment),i=d(),b(r.$$.fragment),$=d(),b(m.$$.fragment)},l(t){e=q(t,"H2",{"data-svelte-h":!0}),y(e)!=="svelte-ahlje5"&&(e.textContent=o),a=k(t),g(s.$$.fragment,t),i=k(t),g(r.$$.fragment,t),$=k(t),g(m.$$.fragment,t)},m(t,n){f(t,e,n),f(t,a,n),h(s,t,n),f(t,i,n),h(r,t,n),f(t,$,n),h(m,t,n),l=!0},p(t,[n]){const c={};n&256&&(c.$$scope={dirty:n,ctx:t}),s.$set(c);const _={};n&256&&(_.$$scope={dirty:n,ctx:t}),r.$set(_);const x={};n&1&&(x.pokemonJSON=t[0]),m.$set(x)},i(t){l||(w(s.$$.fragment,t),w(r.$$.fragment,t),w(m.$$.fragment,t),l=!0)},o(t){v(s.$$.fragment,t),v(r.$$.fragment,t),v(m.$$.fragment,t),l=!1},d(t){t&&(u(e),u(a),u(i),u($)),S(s,t),S(r,t),S(m,t)}}}function I(p,e,o){const a=["bulbasaur","charmander","squirtle"];let s=a[0],i=0,r;const $=async()=>{const n=await fetch(`https://pokeapi.co/api/v2/pokemon/${s}`);o(0,r=await n.json())},m=async n=>{const c=await fetch("/predict",{method:"POST",body:n,headers:{"Content-Type":"image/png",pokemon:s}});if(c.ok){const _=await c.text();alert(_),l()}else throw new Error(`Unable to upload! ${c.status}: ${c.statusText}`)},l=()=>{i=(i+1)%a.length,s=a[i],$()};return J(async()=>{$()}),[r,m,l,n=>m(n.detail.blob)]}class z extends j{constructor(e){super(),B(this,e,I,E,T,{})}}export{z as component};
